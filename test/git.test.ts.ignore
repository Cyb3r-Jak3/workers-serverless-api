import { GithubRepos, GithubUser } from '../src/git'
import makeServiceWorkerEnv from 'service-worker-mock'

declare var global: any

describe('Handle Github Endpoints', () => {
    beforeEach(() => {
        Object.assign(global, makeServiceWorkerEnv())
        jest.resetModules()
    })

    test('handle Repos', async () => {
        const result = await GithubRepos(new Request('/', { method: 'GET' }))
        expect(result.status).toEqual(200)
    })
    test('handle user', async () => {
        const result = await GithubUser(new Request('/', { method: 'GET' }))
        expect(result.status).toEqual(200)
    })
})
